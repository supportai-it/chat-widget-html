function createChatWidget({chatUrl:e="/example",buttonColor:t="#e74266",buttonHoverColor:s="#d6365d",buttonSize:l="64px",getContext:n=()=>""}={}){let i=()=>{let t=n();if(t){let s=new URL(e);s.searchParams.set("context",t),d.src=s.toString()}},r=document.createElement("div");r.id="chat-frame",r.style.position="fixed",r.style.bottom=`calc(${l} + 1.5rem)`,r.style.right="1rem",r.style.zIndex="999",r.style.display="none",r.style.justifyContent="flex-end",r.style.alignItems="flex-end";let d=document.createElement("iframe");d.src=e,d.style.position="absolute",d.style.width="90vw",d.style.maxWidth="400px",d.style.height="80vh",d.style.maxHeight="600px",d.style.border="none",d.style.overflow="hidden",d.style.transformOrigin="bottom right",r.appendChild(d);let a=document.createElement("div");a.id="chat-btn",a.style.position="fixed",a.style.bottom="1rem",a.style.right="1rem",a.style.zIndex="9999",a.style.cursor="pointer";let o=document.createElement("div");o.style.background=t,o.style.color="#fff",o.style.width=l,o.style.height=l,o.style.borderRadius="50%",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.transition="transform 0.15s ease, background 0.15s ease",o.addEventListener("mouseenter",()=>{o.style.transform="scale(1.05)",o.style.background=s}),o.addEventListener("mouseleave",()=>{o.style.transform="scale(1)",o.style.background=t});let y=document.createElementNS("http://www.w3.org/2000/svg","svg");y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("width","32"),y.setAttribute("height","32");let c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("fill","currentColor"),c.setAttribute("d","M12 3c5.5 0 10 3.58 10 8s-4.5 8-10 8c-1.24 0-2.43-.18-3.53-.5C5.55 21 2 21 2 21c2.33-2.33 2.7-3.9 2.75-4.5C3.05 15.07 2 13.13 2 11c0-4.42 4.5-8 10-8"),y.appendChild(c),o.appendChild(y),a.appendChild(o),document.body.appendChild(r),document.body.appendChild(a),i(),window.addEventListener("chat-widget/updateContext",()=>{i()}),a.addEventListener("click",()=>{r.style.display="none"===r.style.display?"flex":"none"})}