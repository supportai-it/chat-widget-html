function createChatWidget({chatUrl:e="/example",buttonColor:t="#e74266",buttonHoverColor:s="#d6365d",buttonSize:l="64px",getContext:i=()=>""}={}){let n=document.createElement("div");n.id="chat-frame",n.style.position="fixed",n.style.bottom="6rem",n.style.right="1rem",n.style.zIndex="999",n.style.display="none",n.style.width="100%",n.style.height="100%",n.style.justifyContent="flex-end",n.style.alignItems="flex-end";let r=document.createElement("iframe");r.src=e,r.style.width="90%",r.style.maxWidth="400px",r.style.height="80%",r.style.maxHeight="600px",r.style.border="none",r.style.overflow="hidden",r.style.transformOrigin="bottom right",n.appendChild(r);let d=document.createElement("div");d.id="chat-btn",d.style.position="fixed",d.style.bottom="1rem",d.style.right="1rem",d.style.zIndex="9999",d.style.cursor="pointer";let a=document.createElement("div");a.style.background=t,a.style.color="#fff",a.style.width=l,a.style.height=l,a.style.borderRadius="50%",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.transition="transform 0.15s ease, background 0.15s ease",a.addEventListener("mouseenter",()=>{a.style.transform="scale(1.05)",a.style.background=s}),a.addEventListener("mouseleave",()=>{a.style.transform="scale(1)",a.style.background=t});let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 24 24"),o.setAttribute("width","32"),o.setAttribute("height","32");let y=document.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("fill","currentColor"),y.setAttribute("d","M12 3c5.5 0 10 3.58 10 8s-4.5 8-10 8c-1.24 0-2.43-.18-3.53-.5C5.55 21 2 21 2 21c2.33-2.33 2.7-3.9 2.75-4.5C3.05 15.07 2 13.13 2 11c0-4.42 4.5-8 10-8"),o.appendChild(y),a.appendChild(o),d.appendChild(a),document.body.appendChild(n),document.body.appendChild(d);let $=!1;d.addEventListener("click",()=>{if(!$){let t=i();if(t){let s=new URL(e);s.searchParams.set("context",t),r.src=s.toString()}$=!0}n.style.display="none"===n.style.display?"flex":"none"})}